<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>watermark demo</title>
</head>
<body style="display: flex; justify-content: center;align-items: center;height: 500px;">

  <canvas id="myCanvas" width="500" height="500" style="border:1px solid red;">
    您的浏览器不支持 HTML5 canvas 标签。
  </canvas>

  <script>
    const c = document.getElementById("myCanvas");
    const ctx = c.getContext("2d");
    
    const text = "leipengfei6,0.0.0.0,78:4f:43:6b:b6:46,保密信息严禁外传,娃哈哈";
    // const text = "娃哈哈可000 99999 aa bb BB";
    const lineSpace = 8;
    const width = 500;
    const height = 500;
    const fontSize = 20;
    const angle = 0;
    const fontFamily = "幼圆";

    const textArr = text.split(",");
    const len = textArr.length;

    ctx.translate(width / 2, height / 2);
    ctx.rotate(angle * Math.PI / 180);
    ctx.translate(-width / 2, -height / 2);

    /** 中心圆 */
    ctx.beginPath();
    ctx.arc(width / 2, height / 2, 5, 0, 2 * Math.PI);
    ctx.closePath();
    ctx.fillStyle = "red";
    ctx.fill();

    /** 中心水平线 */
    ctx.moveTo(0, height / 2);
    ctx.lineTo(width, height / 2);
    ctx.strokeStyle = "red";
    ctx.stroke();

    /** 画布框 */
    ctx.strokeStyle = "blue";	
    ctx.strokeRect(0, 0, width, height);

    

    ctx.font = `${fontSize}px ${fontFamily}`;
    ctx.textAlign = "left";
    ctx.textBaseline = "middle";
    ctx.fillStyle = "rgba(200, 200, 200, 0.6)";


    const maxWidth = textArr.reduce((acc, cur) => ctx.measureText(cur).width > acc ? ctx.measureText(cur).width : acc, 0);
    const maxHeight = len * fontSize + (len - 1) * lineSpace;
    console.log(maxWidth + "   " + maxHeight);

    for (let i = 0; i < len; i++) {
      const pos =  height / 2  - (lineSpace + fontSize) * (len - 1) / 2 + i * (fontSize + lineSpace);
      ctx.fillText(textArr[i], 0, pos);
    }
  
  </script>

</body>
</html>